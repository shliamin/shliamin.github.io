<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compatibility Analyzer</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #fff;
            color: #333;
            margin: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            position: relative;
        }
        .beta-banner {
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #ff4d4d;
            color: white;
            padding: 5px 15px;
            border-radius: 5px;
            font-weight: bold;
            font-size: 14px;
            border: 1px solid white;
        }
        .container {
            display: flex;
            flex-direction: column;
            height: 85vh; 
            background-color: #fff;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            width: 100%;
            box-sizing: border-box;
            position: relative; 
            overflow: hidden;
        }
        #resume-form, #chartContainer {
            flex: 1; 
        }
        h1 {
            text-align: center;
            font-size: 32px;
            margin-bottom: 10px;
        }

        form {
            display: flex;
            flex-direction: column;
        }
        label {
            margin: 5px 0 5px;
            font-size: 14px;
            color: #666;
        }
        input[type="file"], textarea {
            padding: 14px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            width: 100%;
            margin-bottom: 15px;
        }
        button {
            padding: 14px;
            background-color: #007aff;
            color: #fff;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background-color: #005bb5;
        }

        #backgroundChart {
            flex: 1;
            margin-left: 0;
            max-height: 180px !important;
            margin-top: 20px;
        }

        #chartContainer {
            display: flex;
            justify-content: space-between;
        }

        .chartjs-legend {
            flex: 0 0 70%;
            display: flex;
            flex-wrap: wrap; 
            max-height: 100%; 
            margin-left: 20px; 
        }

        .chartjs-legend li {
            width: auto; 
            margin-right: 10px; 
        }
        .contact {
            margin-top: 25px;
            text-align: center;
        }
        
        .contact a {
            color: #007aff;
            text-decoration: none;
            font-size: 14px;
            margin-bottom: 25px;
        }
        .contact a:hover {
            text-decoration: underline;
        }

        .info-panel {
            position: fixed;
            left: -340px; 
            top: 0;
            width: 300px;
            height: 100%;
            background-color: #f7f7f7;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
            padding: 20px;
            transition: left 0.3s ease;
            z-index: 1000;
            overflow-y: auto;
        }

        .info-panel.open {
            left: 0;
        }
        .info-panel::-webkit-scrollbar {
            display: none;
        }
        .info-panel::-webkit-scrollbar-thumb {
            background-color: #ccc;
            border-radius: 4px;
        }
        .info-panel::-webkit-scrollbar-track {
            background-color: #f7f7f7;
        }
        .info-panel.open {
            left: 0;
            width: 270px;
        }
        .info-panel h2 {
            text-align: center;
            font-size: 24px;
            margin-top: 0;
            margin-bottom: 20px;
        }
        .info-panel p {
            font-size: 14px;
            margin-bottom: 0px;
        }
        .info-panel .highlight {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 0px;
            margin-top: 5px;
        }
        .info-panel .highlight span {
            font-size: 14px;
            font-weight: bold;
        }
        .highlight-professional span, .professional-subcategory {
            color: #007aff;
            margin-top: 0px;
        }
        .highlight-cultural span, .cultural-subcategory {
            color: #28a745;
            margin-top: 0px;
        }
        .highlight-education span, .education-subcategory {
            color: #ffc107;
            margin-top: 0px;
        }
        .highlight-portfolio span, .portfolio-subcategory {
            color: #ff5733;
            margin-top: 0px;
        }
        .highlight-references span, .references-subcategory {
            color: #17a2b8;
            margin-top: 0px;
        }
        .highlight-languages span, .languages-subcategory {
            color: #e83e8c;
            margin-top: 0px;
        }
        .info-panel button {
            position: absolute;
            top: 50%;
            right: -30px;
            transform: translateY(-50%);
            background-color: #007aff;
            color: #fff;
            border: none;
            padding: 12px 18px;
            cursor: pointer;
            border-radius: 50%;
            font-size: 18px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            z-index: 9999;
        }

        .info-panel button:hover {
            background-color: #005bb5;
        }
        canvas {
            margin-top: 0;  
            margin-bottom: 0;  
            width: 100%;
            max-width: auto;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }
        #author {
            text-align: center;
            color: #777777;
            margin-top: auto; 
            margin-bottom: 0; 
            padding-top: 10px;
            padding-bottom: 10px; 
        }
        #author p {
            margin: 5px 0; 
            color: #777777; 
        }
        .chart-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 230px;
            margin-top: 20px;  
        }

        #donutChart {
            width: 220px;
            height: 220px;
        }

        #languageIndicator {
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 10px;
            padding: 10px 20px;
            background: linear-gradient(45deg, #ff6b6b, #f06595, #cc5de8);
            color: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
            opacity: 0;
            transform: translateY(-10px);
            transition: opacity 0.6s ease, transform 0.6s ease;
        }

        #languageIndicator.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .detailed-info {
            margin-top: 20px;
            padding: 10px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .detailed-info p {
            margin: 10px 0;
            font-size: 14px;
            color: #333;
        }

        .detailed-info .highlight {
            font-weight: bold;
            color: #007aff;
        }

        #toggleButton {
            position: fixed;
            top: 20%;
            left: 300px; 
            transform: translate(-40%, -50%); 
            background-color: #007aff;
            color: #fff;
            border: none;
            padding: 12px 18px;
            cursor: pointer;
            border-radius: 50%;
            font-size: 18px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            z-index: 1001; 
            transition: left 0.3s ease;
        }

        .info-panel.open + #toggleButton {
            left: 300px; 
            transform: translate(-50%, -50%) rotate(180deg); 
        }
    </style>
</head>
<body>
    <div class="beta-banner">BETA VERSION</div>

    <button onclick="import('./main.js').then(module => module.toggleInfoPanel())" id="toggleButton">
        <i class="fas fa-chevron-left"></i>
    </button>

    <div class="info-panel" id="infoPanel">
        <h2>How It Works</h2>
        <p class="highlight highlight-professional"><span>Professional Skills - 50%</span></p>
        <p class="professional-subcategory">Experience - 25%</p>
        <p class="professional-subcategory">Skills - 20%</p>
        <p class="professional-subcategory">Tech Stack - 5%</p>

        <p class="highlight highlight-cultural"><span>Team Fit - 20%</span></p>
        <p class="cultural-subcategory">Soft Skills - 10%</p>
        <p class="cultural-subcategory">Cultural Fit* - 10%</p>

        <p class="highlight highlight-education"><span>Education - 10%</span></p>
        <p class="education-subcategory">University - 5%</p>
        <p class="education-subcategory">Certifications - 5%</p>

        <p class="highlight highlight-portfolio"><span>Portfolio - 10%</span></p>
        <p class="portfolio-subcategory">Engagement** - 5%</p>
        <p class="portfolio-subcategory">Projects - 5%</p>

        <p class="highlight highlight-references"><span>References - 5%</span></p>
        <p class="references-subcategory"></p>

        <p class="highlight highlight-languages"><span>Languages - 5%</span></p>
        <p class="languages-subcategory"></p>
        <div class="chart-container">
            <canvas id="donutChart"></canvas>
        </div>

        <div class="detailed-info" style="margin-bottom: 20px;">
            <p class="highlight">*Cultural Fit - 10%</p>
            <p>Cultural Fit refers to how well your values, beliefs, and work style align with the company's culture. It’s about whether you can thrive in the organization’s environment and contribute positively to its growth.</p>
            <p>The code assesses Cultural Fit by scanning your CV for keywords and phrases that align with the company’s core values, mission, and vision. It looks for terms like "company culture," "values alignment," "mission-driven," and "workplace culture." These indicators show your awareness of and compatibility with the cultural aspects of the organization.</p>
            <p>It's important to note that Cultural Fit goes beyond just <strong>Soft Skills</strong>. While Soft Skills encompass personal qualities and interpersonal abilities like communication, teamwork, and problem-solving, Cultural Fit also includes how your overall approach, goals, and ethics match the broader environment and ethos of the company.</p>
        
            <p class="highlight">**Engagement - 5%</p>
            <p>Engagement measures your involvement in projects, initiatives, or activities beyond your core job responsibilities. This includes participation in community initiatives, volunteer work, contributing to open source projects, or any other activities that demonstrate your dedication and proactive attitude.</p>
            <p>The code evaluates Engagement by identifying mentions of activities and roles that indicate active participation beyond your regular duties. It looks for terms such as "volunteering," "community engagement," "open source contributions," and "project participation." This helps gauge your willingness to contribute to the organization in more ways than just your primary job role.</p>
        </div>
        
    </div>

    <div class="container">
        <h1>Compatibility Analyzer</h1>
        <div id="languageIndicator">
            <span id="languageIcon" style="margin-right: 10px;"></span>
            <span id="languageText">The CV is written in English.</span>
        </div>
        
        <form id="resume-form">
            <label for="resume">Upload CV (.pdf or .txt in English or German):</label>
            <input type="file" id="resume" name="resume" accept=".pdf,.txt" required>
            
            <label for="job_description">Job Description:</label>
            <textarea id="job_description" name="job_description" rows="5" placeholder="Paste the job description here..." required></textarea>
            
            <button type="submit">Analyze Compatibility</button>
        </form>
        <div id="chartContainer">
            <canvas id="backgroundChart"></canvas>
            <div class="chart-legend"></div>
        </div>

        <div id="author">
            <p>Made by Efim Shliamin: <a href="https://shliamin.github.io" target="_blank">shliamin.github.io</a></p>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script type="module" src="main.js"></script>

</body>
</html>
